<div ng-controller="DateController" ng-cloak>
    <div class="col-xs-12">
        <div class="col-md-4">
            <p class="input-group input-group-lg">
                <!-- <span class="input-group-btn">
                </span> -->
                <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup1.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" show-button-bar="false" readonly="true" ng-change="dateChanged(dt);"/>
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="datePlusMinus(-1);dateChanged(dt);"><i class="glyphicon glyphicon-chevron-left"></i></button>
                    <button type="button" class="btn btn-default" ng-click="datePlusMinus(1);dateChanged(dt);"><i class="glyphicon glyphicon-chevron-right"></i></button>
                    <button type="button" class="btn btn-default" ng-click="open1(); addLog('Main date change');"><i class="glyphicon glyphicon-calendar"></i></button>
                    <button type="button" class="btn btn-default" ng-click="dateChanged(dt); addLog('Main date refresh');"><i class="glyphicon glyphicon-refresh"></i></button>
                </span>
            </p>
        </div>
    </div>
    <br/><br/><br/>
</div>

<div class="bakery" ng-repeat="bakery in bakeries | orderBy: 'id'" ng-click="newWindow()" ng-cloak>
    <div class="row">
        <div class="col-sm-4">
            <span class="col-xs-11 bakery-name">
                <!--                        <button class="btn btn-xs btn-active plusButton">+</button>-->
                № {{bakery.id}}. {{bakery.address}}
            </span>
            <span class="col-xs-1 receipts-date" ng-class="{notCurrentDate:(1)}">{{bakery.date}}</span>
        </div>
        <div class="col-sm-8" ng-show = "bakery.cash < 0">
            <span class = "col-xs-12"><div class="loader"></div></span>
            <!-- <span class="col-sm-8"><uib-progressbar class="progress-striped active" value="dynamic" type=""></uib-progressbar></span> -->
        </div>
        <div class="col-sm-8" ng-show = "bakery.cash > -1">
            <span class="col-xs-5">Выручка: <span class="bakery-data-cash">{{bakery.cash | currency: "" : 0}}</span></span>
            <span class="col-xs-3">Чеков: <span class="bakery-data">{{bakery.checks}}</span></span>
            <span class="col-xs-4">Средний: <span class="bakery-data">{{bakery.averageCheck | currency: "" : 0}}</span></span>
        </div>
    </div>
</div>
